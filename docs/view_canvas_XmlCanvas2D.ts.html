

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> view/canvas/XmlCanvas2D.ts</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="AbstractCanvas2D.html">AbstractCanvas2D</a></li><li><a href="ActorShape.html">ActorShape</a></li><li><a href="Animation.html">Animation</a></li><li><a href="ArrowConnectorShape.html">ArrowConnectorShape</a></li><li><a href="ArrowShape.html">ArrowShape</a></li><li><a href="AutoSaveManager.html">AutoSaveManager</a></li><li><a href="Cell.html">Cell</a></li><li><a href="CellAttributeChange.html">CellAttributeChange</a></li><li><a href="CellCodec.html">CellCodec</a></li><li><a href="CellEditorHandler.html">CellEditorHandler</a></li><li><a href="CellHighlight.html">CellHighlight</a></li><li><a href="CellMarker.html">CellMarker</a></li><li><a href="CellOverlay.html">CellOverlay</a></li><li><a href="CellPath.html">CellPath</a></li><li><a href="CellRenderer.html">CellRenderer</a></li><li><a href="CellState.html">CellState</a></li><li><a href="CellStatePreview.html">CellStatePreview</a></li><li><a href="CellTracker.html">CellTracker</a></li><li><a href="ChildChange.html">ChildChange</a></li><li><a href="ChildChangeCodec.html">ChildChangeCodec</a></li><li><a href="CircleLayout.html">CircleLayout</a></li><li><a href="Client.html">Client</a></li><li><a href="Clipboard.html">Clipboard</a></li><li><a href="CloudShape.html">CloudShape</a></li><li><a href="Codec.html">Codec</a></li><li><a href="CodecRegistry.html">CodecRegistry</a></li><li><a href="CollapseChange.html">CollapseChange</a></li><li><a href="CompactTreeLayout.html">CompactTreeLayout</a></li><li><a href="CompositeLayout.html">CompositeLayout</a></li><li><a href="ConnectionConstraint.html">ConnectionConstraint</a></li><li><a href="ConnectionHandler.html">ConnectionHandler</a></li><li><a href="ConnectorShape.html">ConnectorShape</a></li><li><a href="ConstraintHandler.html">ConstraintHandler</a></li><li><a href="CoordinateAssignment.html">CoordinateAssignment</a></li><li><a href="CurrentRootChange.html">CurrentRootChange</a></li><li><a href="CylinderShape.html">CylinderShape</a></li><li><a href="Dictionary.html">Dictionary</a></li><li><a href="DoubleEllipseShape.html">DoubleEllipseShape</a></li><li><a href="DragSource.html">DragSource</a></li><li><a href="EdgeHandler.html">EdgeHandler</a></li><li><a href="EdgeLabelLayout.html">EdgeLabelLayout</a></li><li><a href="EdgeStyle.html">EdgeStyle</a></li><li><a href="Editor.html">Editor</a></li><li><a href="EditorCodec.html">EditorCodec</a></li><li><a href="EditorKeyHandler.html">EditorKeyHandler</a></li><li><a href="EditorKeyHandlerCodec.html">EditorKeyHandlerCodec</a></li><li><a href="EditorPopupMenu.html">EditorPopupMenu</a></li><li><a href="EditorPopupMenuCodec.html">EditorPopupMenuCodec</a></li><li><a href="EditorToolbar.html">EditorToolbar</a></li><li><a href="EditorToolbarCodec.html">EditorToolbarCodec</a></li><li><a href="Effects.html">Effects</a></li><li><a href="ElbowEdgeHandler.html">ElbowEdgeHandler</a></li><li><a href="EllipseShape.html">EllipseShape</a></li><li><a href="EventObject.html">EventObject</a></li><li><a href="EventSource.html">EventSource</a></li><li><a href="GenericChangeCodec.html">GenericChangeCodec</a></li><li><a href="Geometry.html">Geometry</a></li><li><a href="GeometryChange.html">GeometryChange</a></li><li><a href="graph.html">graph</a></li><li><a href="GraphAbstractHierarchyCell.html">GraphAbstractHierarchyCell</a></li><li><a href="GraphCodec.html">GraphCodec</a></li><li><a href="GraphHierarchyEdge.html">GraphHierarchyEdge</a></li><li><a href="GraphHierarchyModel.html">GraphHierarchyModel</a></li><li><a href="GraphHierarchyNode.html">GraphHierarchyNode</a></li><li><a href="GraphLayout.html">GraphLayout</a></li><li><a href="GraphView.html">GraphView</a></li><li><a href="GraphViewCodec.html">GraphViewCodec</a></li><li><a href="Guide.html">Guide</a></li><li><a href="HexagonShape.html">HexagonShape</a></li><li><a href="HierarchicalLayout.html">HierarchicalLayout</a></li><li><a href="HierarchicalLayoutStage.html">HierarchicalLayoutStage</a></li><li><a href="ImageBox.html">ImageBox</a></li><li><a href="ImageBundle.html">ImageBundle</a></li><li><a href="ImageExport.html">ImageExport</a></li><li><a href="ImageShape.html">ImageShape</a></li><li><a href="InternalEvent.html">InternalEvent</a></li><li><a href="InternalMouseEvent.html">InternalMouseEvent</a></li><li><a href="KeyHandler.html">KeyHandler</a></li><li><a href="LabelShape.html">LabelShape</a></li><li><a href="LayoutManager.html">LayoutManager</a></li><li><a href="Line.html">Line</a></li><li><a href="MarkerShape.html">MarkerShape</a></li><li><a href="MaxForm.html">MaxForm</a></li><li><a href="MaxLog.html">MaxLog</a></li><li><a href="MaxPopupMenu.html">MaxPopupMenu</a></li><li><a href="MaxToolbar.html">MaxToolbar</a></li><li><a href="MaxWindow.html">MaxWindow</a></li><li><a href="MaxXmlRequest.html">MaxXmlRequest</a></li><li><a href="MedianCellSorter.html">MedianCellSorter</a></li><li><a href="MedianHybridCrossingReduction.html">MedianHybridCrossingReduction</a></li><li><a href="MinimumCycleRemover.html">MinimumCycleRemover</a></li><li><a href="Model.html">Model</a></li><li><a href="ModelCodec.html">ModelCodec</a></li><li><a href="Morphing.html">Morphing</a></li><li><a href="Multiplicity.html">Multiplicity</a></li><li><a href="MxFastOrganicLayout.html">MxFastOrganicLayout</a></li><li><a href="mxXmlCanvas2D.html">mxXmlCanvas2D</a></li><li><a href="ObjectCodec.html">ObjectCodec</a></li><li><a href="ObjectIdentity.html">ObjectIdentity</a></li><li><a href="Outline.html">Outline</a></li><li><a href="PanningHandler.html">PanningHandler</a></li><li><a href="PanningManager.html">PanningManager</a></li><li><a href="ParallelEdgeLayout.html">ParallelEdgeLayout</a></li><li><a href="PartitionLayout.html">PartitionLayout</a></li><li><a href="Perimeter.html">Perimeter</a></li><li><a href="Point.html">Point</a></li><li><a href="PolylineShape.html">PolylineShape</a></li><li><a href="PopupMenuHandler.html">PopupMenuHandler</a></li><li><a href="PrintPreview.html">PrintPreview</a></li><li><a href="RadialTreeLayout.html">RadialTreeLayout</a></li><li><a href="Rectangle.html">Rectangle</a></li><li><a href="RectangleShape.html">RectangleShape</a></li><li><a href="RhombusShape.html">RhombusShape</a></li><li><a href="RootChange.html">RootChange</a></li><li><a href="RootChangeCodec.html">RootChangeCodec</a></li><li><a href="RubberBandHandler.html">RubberBandHandler</a></li><li><a href="SelectionCellsHandler.html">SelectionCellsHandler</a></li><li><a href="SelectionChange.html">SelectionChange</a></li><li><a href="SelectionHandler.html">SelectionHandler</a></li><li><a href="Shape.html">Shape</a></li><li><a href="StackLayout.html">StackLayout</a></li><li><a href="StencilShape.html">StencilShape</a></li><li><a href="StencilShapeRegistry.html">StencilShapeRegistry</a></li><li><a href="StyleChange.html">StyleChange</a></li><li><a href="StyleRegistry.html">StyleRegistry</a></li><li><a href="Stylesheet.html">Stylesheet</a></li><li><a href="StylesheetCodec.html">StylesheetCodec</a></li><li><a href="SvgCanvas2D.html">SvgCanvas2D</a></li><li><a href="SwimlaneLayout.html">SwimlaneLayout</a></li><li><a href="SwimlaneManager.html">SwimlaneManager</a></li><li><a href="SwimlaneModel.html">SwimlaneModel</a></li><li><a href="SwimlaneOrdering.html">SwimlaneOrdering</a></li><li><a href="SwimlaneShape.html">SwimlaneShape</a></li><li><a href="TerminalChange.html">TerminalChange</a></li><li><a href="TerminalChangeCodec.html">TerminalChangeCodec</a></li><li><a href="TextShape.html">TextShape</a></li><li><a href="TooltipHandler.html">TooltipHandler</a></li><li><a href="Translations.html">Translations</a></li><li><a href="TriangleShape.html">TriangleShape</a></li><li><a href="UndoableEdit.html">UndoableEdit</a></li><li><a href="UndoManager.html">UndoManager</a></li><li><a href="UrlConverter.html">UrlConverter</a></li><li><a href="ValueChange.html">ValueChange</a></li><li><a href="VertexHandle.html">VertexHandle</a></li><li><a href="VertexHandler.html">VertexHandler</a></li><li><a href="VisibleChange.html">VisibleChange</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ABSOLUTE_LINE_HEIGHT">ABSOLUTE_LINE_HEIGHT</a></li><li><a href="global.html#addStylename">addStylename</a></li><li><a href="global.html#ALIGN">ALIGN</a></li><li><a href="global.html#arcToCurves">arcToCurves</a></li><li><a href="global.html#ARROW">ARROW</a></li><li><a href="global.html#ARROW_SIZE">ARROW_SIZE</a></li><li><a href="global.html#ARROW_SPACING">ARROW_SPACING</a></li><li><a href="global.html#ARROW_WIDTH">ARROW_WIDTH</a></li><li><a href="global.html#br">br</a></li><li><a href="global.html#button">button</a></li><li><a href="global.html#clearSelection">clearSelection</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#CONNECT_HANDLE_FILLCOLOR">CONNECT_HANDLE_FILLCOLOR</a></li><li><a href="global.html#CONNECT_TARGET_COLOR">CONNECT_TARGET_COLOR</a></li><li><a href="global.html#contains">contains</a></li><li><a href="global.html#convertPoint">convertPoint</a></li><li><a href="global.html#createImage">createImage</a></li><li><a href="global.html#createXmlDocument">createXmlDocument</a></li><li><a href="global.html#CURSOR">CURSOR</a></li><li><a href="global.html#DEFAULT_FONTFAMILY">DEFAULT_FONTFAMILY</a></li><li><a href="global.html#DEFAULT_FONTSIZE">DEFAULT_FONTSIZE</a></li><li><a href="global.html#DEFAULT_FONTSTYLE">DEFAULT_FONTSTYLE</a></li><li><a href="global.html#DEFAULT_HOTSPOT">DEFAULT_HOTSPOT</a></li><li><a href="global.html#DEFAULT_IMAGESIZE">DEFAULT_IMAGESIZE</a></li><li><a href="global.html#DEFAULT_INVALID_COLOR">DEFAULT_INVALID_COLOR</a></li><li><a href="global.html#DEFAULT_MARKERSIZE">DEFAULT_MARKERSIZE</a></li><li><a href="global.html#DEFAULT_STARTSIZE">DEFAULT_STARTSIZE</a></li><li><a href="global.html#DEFAULT_TEXT_DIRECTION">DEFAULT_TEXT_DIRECTION</a></li><li><a href="global.html#DEFAULT_VALID_COLOR">DEFAULT_VALID_COLOR</a></li><li><a href="global.html#DIALECT">DIALECT</a></li><li><a href="global.html#DIRECTION_MASK">DIRECTION_MASK</a></li><li><a href="global.html#DROP_TARGET_COLOR">DROP_TARGET_COLOR</a></li><li><a href="global.html#EDGE_SELECTION_COLOR">EDGE_SELECTION_COLOR</a></li><li><a href="global.html#EDGE_SELECTION_DASHED">EDGE_SELECTION_DASHED</a></li><li><a href="global.html#EDGE_SELECTION_STROKEWIDTH">EDGE_SELECTION_STROKEWIDTH</a></li><li><a href="global.html#EDGESTYLE">EDGESTYLE</a></li><li><a href="global.html#ELBOW">ELBOW</a></li><li><a href="global.html#ENTITY_SEGMENT">ENTITY_SEGMENT</a></li><li><a href="global.html#equalEntries">equalEntries</a></li><li><a href="global.html#equalPoints">equalPoints</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#extractTextWithWhitespace">extractTextWithWhitespace</a></li><li><a href="global.html#findNearestSegment">findNearestSegment</a></li><li><a href="global.html#findNode">findNode</a></li><li><a href="global.html#findTreeRoots">findTreeRoots</a></li><li><a href="global.html#fit">fit</a></li><li><a href="global.html#FONT">FONT</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getAlignmentAsPoint">getAlignmentAsPoint</a></li><li><a href="global.html#getAll">getAll</a></li><li><a href="global.html#getBoundingBox">getBoundingBox</a></li><li><a href="global.html#getChildNodes">getChildNodes</a></li><li><a href="global.html#getClientX">getClientX</a></li><li><a href="global.html#getClientY">getClientY</a></li><li><a href="global.html#getColor">getColor</a></li><li><a href="global.html#getCurrentStyle">getCurrentStyle</a></li><li><a href="global.html#getDirectedBounds">getDirectedBounds</a></li><li><a href="global.html#getDocumentScrollOrigin">getDocumentScrollOrigin</a></li><li><a href="global.html#getDocumentSize">getDocumentSize</a></li><li><a href="global.html#getFunctionName">getFunctionName</a></li><li><a href="global.html#getInnerHtml">getInnerHtml</a></li><li><a href="global.html#getNumber">getNumber</a></li><li><a href="global.html#getOffset">getOffset</a></li><li><a href="global.html#getOuterHtml">getOuterHtml</a></li><li><a href="global.html#getPerimeterPoint">getPerimeterPoint</a></li><li><a href="global.html#getPortConstraints">getPortConstraints</a></li><li><a href="global.html#getPrettyXml">getPrettyXml</a></li><li><a href="global.html#getRotatedPoint">getRotatedPoint</a></li><li><a href="global.html#getScaleForPageCount">getScaleForPageCount</a></li><li><a href="global.html#getScrollOrigin">getScrollOrigin</a></li><li><a href="global.html#getSizeForString">getSizeForString</a></li><li><a href="global.html#getSource">getSource</a></li><li><a href="global.html#getStylename">getStylename</a></li><li><a href="global.html#getStylenames">getStylenames</a></li><li><a href="global.html#getTextContent">getTextContent</a></li><li><a href="global.html#getValue">getValue</a></li><li><a href="global.html#getXml">getXml</a></li><li><a href="global.html#GUIDE_COLOR">GUIDE_COLOR</a></li><li><a href="global.html#GUIDE_STROKEWIDTH">GUIDE_STROKEWIDTH</a></li><li><a href="global.html#HANDLE_FILLCOLOR">HANDLE_FILLCOLOR</a></li><li><a href="global.html#HANDLE_SIZE">HANDLE_SIZE</a></li><li><a href="global.html#HANDLE_STROKECOLOR">HANDLE_STROKECOLOR</a></li><li><a href="global.html#hasScrollbars">hasScrollbars</a></li><li><a href="global.html#HIGHLIGHT_COLOR">HIGHLIGHT_COLOR</a></li><li><a href="global.html#HIGHLIGHT_OPACITY">HIGHLIGHT_OPACITY</a></li><li><a href="global.html#HIGHLIGHT_SIZE">HIGHLIGHT_SIZE</a></li><li><a href="global.html#HIGHLIGHT_STROKEWIDTH">HIGHLIGHT_STROKEWIDTH</a></li><li><a href="global.html#htmlEntities">htmlEntities</a></li><li><a href="global.html#importNode">importNode</a></li><li><a href="global.html#importNodeImplementation">importNodeImplementation</a></li><li><a href="global.html#indexOfStylename">indexOfStylename</a></li><li><a href="global.html#intersection">intersection</a></li><li><a href="global.html#intersects">intersects</a></li><li><a href="global.html#intersectsHotspot">intersectsHotspot</a></li><li><a href="global.html#INVALID_COLOR">INVALID_COLOR</a></li><li><a href="global.html#INVALID_CONNECT_TARGET_COLOR">INVALID_CONNECT_TARGET_COLOR</a></li><li><a href="global.html#isAltDown">isAltDown</a></li><li><a href="global.html#isAncestorNode">isAncestorNode</a></li><li><a href="global.html#isConsumed">isConsumed</a></li><li><a href="global.html#isControlDown">isControlDown</a></li><li><a href="global.html#isInteger">isInteger</a></li><li><a href="global.html#isLeftMouseButton">isLeftMouseButton</a></li><li><a href="global.html#isMetaDown">isMetaDown</a></li><li><a href="global.html#isMiddleMouseButton">isMiddleMouseButton</a></li><li><a href="global.html#isMouseEvent">isMouseEvent</a></li><li><a href="global.html#isMultiTouchEvent">isMultiTouchEvent</a></li><li><a href="global.html#isNode">isNode</a></li><li><a href="global.html#isNumeric">isNumeric</a></li><li><a href="global.html#isPenEvent">isPenEvent</a></li><li><a href="global.html#isPopupTrigger">isPopupTrigger</a></li><li><a href="global.html#isRightMouseButton">isRightMouseButton</a></li><li><a href="global.html#isShiftDown">isShiftDown</a></li><li><a href="global.html#isTouchEvent">isTouchEvent</a></li><li><a href="global.html#LABEL_HANDLE_FILLCOLOR">LABEL_HANDLE_FILLCOLOR</a></li><li><a href="global.html#LABEL_HANDLE_SIZE">LABEL_HANDLE_SIZE</a></li><li><a href="global.html#LINE_ARCSIZE">LINE_ARCSIZE</a></li><li><a href="global.html#LINE_HEIGHT">LINE_HEIGHT</a></li><li><a href="global.html#link">link</a></li><li><a href="global.html#linkAction">linkAction</a></li><li><a href="global.html#linkInvoke">linkInvoke</a></li><li><a href="global.html#load">load</a></li><li><a href="global.html#LOCKED_HANDLE_FILLCOLOR">LOCKED_HANDLE_FILLCOLOR</a></li><li><a href="global.html#ltrim">ltrim</a></li><li><a href="global.html#makeDraggable">makeDraggable</a></li><li><a href="global.html#MAX_HOTSPOT_SIZE">MAX_HOTSPOT_SIZE</a></li><li><a href="global.html#MIN_HOTSPOT_SIZE">MIN_HOTSPOT_SIZE</a></li><li><a href="global.html#mod">mod</a></li><li><a href="global.html#NONE">NONE</a></li><li><a href="global.html#NS_SVG">NS_SVG</a></li><li><a href="global.html#NS_XLINK">NS_XLINK</a></li><li><a href="global.html#OUTLINE_COLOR">OUTLINE_COLOR</a></li><li><a href="global.html#OUTLINE_HANDLE_FILLCOLOR">OUTLINE_HANDLE_FILLCOLOR</a></li><li><a href="global.html#OUTLINE_HANDLE_STROKECOLOR">OUTLINE_HANDLE_STROKECOLOR</a></li><li><a href="global.html#OUTLINE_HIGHLIGHT_COLOR">OUTLINE_HIGHLIGHT_COLOR</a></li><li><a href="global.html#OUTLINE_HIGHLIGHT_STROKEWIDTH">OUTLINE_HIGHLIGHT_STROKEWIDTH</a></li><li><a href="global.html#OUTLINE_STROKEWIDTH">OUTLINE_STROKEWIDTH</a></li><li><a href="global.html#PAGE_FORMAT_A4_LANDSCAPE">PAGE_FORMAT_A4_LANDSCAPE</a></li><li><a href="global.html#PAGE_FORMAT_A4_PORTRAIT">PAGE_FORMAT_A4_PORTRAIT</a></li><li><a href="global.html#PAGE_FORMAT_LETTER_LANDSCAPE">PAGE_FORMAT_LETTER_LANDSCAPE</a></li><li><a href="global.html#PAGE_FORMAT_LETTER_PORTRAIT">PAGE_FORMAT_LETTER_PORTRAIT</a></li><li><a href="global.html#para">para</a></li><li><a href="global.html#parseCssNumber">parseCssNumber</a></li><li><a href="global.html#PERIMETER">PERIMETER</a></li><li><a href="global.html#popup">popup</a></li><li><a href="global.html#post">post</a></li><li><a href="global.html#printScreen">printScreen</a></li><li><a href="global.html#ptLineDist">ptLineDist</a></li><li><a href="global.html#ptSegDistSq">ptSegDistSq</a></li><li><a href="global.html#RECTANGLE_ROUNDING_FACTOR">RECTANGLE_ROUNDING_FACTOR</a></li><li><a href="global.html#rectangleIntersectsSegment">rectangleIntersectsSegment</a></li><li><a href="global.html#relativeCcw">relativeCcw</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#removeAllStylenames">removeAllStylenames</a></li><li><a href="global.html#removeCursors">removeCursors</a></li><li><a href="global.html#removeDuplicates">removeDuplicates</a></li><li><a href="global.html#removeStylename">removeStylename</a></li><li><a href="global.html#removeWhitespace">removeWhitespace</a></li><li><a href="global.html#RENDERING_HINT">RENDERING_HINT</a></li><li><a href="global.html#replaceTrailingNewlines">replaceTrailingNewlines</a></li><li><a href="global.html#reversePortConstraints">reversePortConstraints</a></li><li><a href="global.html#rtrim">rtrim</a></li><li><a href="global.html#setCellStyleFlags">setCellStyleFlags</a></li><li><a href="global.html#setCellStyles">setCellStyles</a></li><li><a href="global.html#setOpacity">setOpacity</a></li><li><a href="global.html#setPrefixedStyle">setPrefixedStyle</a></li><li><a href="global.html#setStyle">setStyle</a></li><li><a href="global.html#setStyleFlag">setStyleFlag</a></li><li><a href="global.html#setTextContent">setTextContent</a></li><li><a href="global.html#SHADOW_OFFSET_X">SHADOW_OFFSET_X</a></li><li><a href="global.html#SHADOW_OFFSET_Y">SHADOW_OFFSET_Y</a></li><li><a href="global.html#SHADOW_OPACITY">SHADOW_OPACITY</a></li><li><a href="global.html#SHADOWCOLOR">SHADOWCOLOR</a></li><li><a href="global.html#show">show</a></li><li><a href="global.html#sortCells">sortCells</a></li><li><a href="global.html#submit">submit</a></li><li><a href="global.html#TEXT_DIRECTION">TEXT_DIRECTION</a></li><li><a href="global.html#toDegree">toDegree</a></li><li><a href="global.html#TOOLTIP_VERTICAL_OFFSET">TOOLTIP_VERTICAL_OFFSET</a></li><li><a href="global.html#toRadians">toRadians</a></li><li><a href="global.html#toString">toString</a></li><li><a href="global.html#traverse">traverse</a></li><li><a href="global.html#trim">trim</a></li><li><a href="global.html#utils">utils</a></li><li><a href="global.html#VALID_COLOR">VALID_COLOR</a></li><li><a href="global.html#VERTEX_SELECTION_COLOR">VERTEX_SELECTION_COLOR</a></li><li><a href="global.html#VERTEX_SELECTION_DASHED">VERTEX_SELECTION_DASHED</a></li><li><a href="global.html#VERTEX_SELECTION_STROKEWIDTH">VERTEX_SELECTION_STROKEWIDTH</a></li><li><a href="global.html#WORD_WRAP">WORD_WRAP</a></li><li><a href="global.html#write">write</a></li><li><a href="global.html#writeln">writeln</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>view/canvas/XmlCanvas2D.ts</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Copyright (c) 2006-2015, JGraph Ltd
 * Copyright (c) 2006-2015, Gaudenz Alder
 * Updated to ES9 syntax by David Morrissey 2021
 * Type definitions from the typed-mxgraph project
 */
import AbstractCanvas2D from './AbstractCanvas2D';
import {
  DEFAULT_FONTFAMILY,
  DEFAULT_FONTSIZE,
  NONE,
  SHADOWCOLOR,
  SHADOW_OFFSET_X,
  SHADOW_OFFSET_Y,
  SHADOW_OPACITY,
} from '../../util/constants';
import { getOuterHtml, isNode } from '../../util/domUtils';
import { DirectionValue, TextDirectionValue } from '../../types';

/**
 * Base class for all canvases. The following methods make up the public
 * interface of the canvas 2D for all painting in mxGraph:
 *
 * - &lt;save>, &lt;restore>
 * - &lt;scale>, &lt;translate>, &lt;rotate>
 * - &lt;setAlpha>, &lt;setFillAlpha>, &lt;setStrokeAlpha>, &lt;setFillColor>, &lt;setGradient>,
 *   &lt;setStrokeColor>, &lt;setStrokeWidth>, &lt;setDashed>, &lt;setDashPattern>, &lt;setLineCap>,
 *   &lt;setLineJoin>, &lt;setMiterLimit>
 * - &lt;setFontColor>, &lt;setFontBackgroundColor>, &lt;setFontBorderColor>, &lt;setFontSize>,
 *   &lt;setFontFamily>, &lt;setFontStyle>
 * - &lt;setShadow>, &lt;setShadowColor>, &lt;setShadowAlpha>, &lt;setShadowOffset>
 * - &lt;rect>, &lt;roundrect>, &lt;ellipse>, &lt;image>, &lt;text>
 * - &lt;begin>, &lt;moveTo>, &lt;lineTo>, &lt;quadTo>, &lt;curveTo>
 * - &lt;stroke>, &lt;fill>, &lt;fillAndStroke>
 *
 * &lt;AbstractCanvas2D.arcTo> is an additional method for drawing paths. This is
 * a synthetic method, meaning that it is turned into a sequence of curves by
 * default. Subclassers may add native support for arcs.
 *
 * Constructor: D
 *
 * Constructs a new abstract canvas.
 */
class mxXmlCanvas2D extends AbstractCanvas2D {
  constructor(root: SVGElement) {
    super();

    /**
     * Variable: root
     *
     * Reference to the container for the SVG content.
     */
    this.root = root;

    // Writes default settings;
    this.writeDefaults();
  }

  root: SVGElement;

  /**
   * Specifies if text output should be enabled.
   * @default true
   */
  textEnabled: boolean = true;

  /**
   * Specifies if the output should be compressed by removing redundant calls.
   * @default true
   */
  compressed: boolean = true;

  /**
   * Writes the rendering defaults to {@link root}:
   */
  writeDefaults(): void {
    let elem;

    // Writes font defaults
    elem = this.createElement('fontfamily');
    elem.setAttribute('family', DEFAULT_FONTFAMILY);
    this.root.appendChild(elem);

    elem = this.createElement('fontsize');
    elem.setAttribute('size', String(DEFAULT_FONTSIZE));
    this.root.appendChild(elem);

    // Writes shadow defaults
    elem = this.createElement('shadowcolor');
    elem.setAttribute('color', SHADOWCOLOR);
    this.root.appendChild(elem);

    elem = this.createElement('shadowalpha');
    elem.setAttribute('alpha', String(SHADOW_OPACITY));
    this.root.appendChild(elem);

    elem = this.createElement('shadowoffset');
    elem.setAttribute('dx', String(SHADOW_OFFSET_X));
    elem.setAttribute('dy', String(SHADOW_OFFSET_Y));
    this.root.appendChild(elem);
  }

  /**
   * Returns a formatted number with 2 decimal places.
   */
  format(value: string | number): number {
    if (typeof value === 'string') {
      return parseFloat(parseFloat(value).toFixed(2));
    } else {
      return parseFloat(value.toFixed(2));
    }
  }

  /**
   * Creates the given element using the owner document of {@link root}.
   */
  createElement(name: string): Element {
    return this.root.ownerDocument.createElement(name);
  }

  /**
   * Saves the drawing state.
   */
  save(): void {
    if (this.compressed) {
      super.save();
    }
    this.root.appendChild(this.createElement('save'));
  }

  /**
   * Restores the drawing state.
   */
  restore(): void {
    if (this.compressed) {
      super.restore();
    }
    this.root.appendChild(this.createElement('restore'));
  }

  /**
   * Scales the output.
   *
   * @param scale Number that represents the scale where 1 is equal to 100%.
   */
  scale(value: number): void {
    const elem = this.createElement('scale');
    elem.setAttribute('scale', String(value));
    this.root.appendChild(elem);
  }

  /**
   * Translates the output.
   *
   * @param dx Number that specifies the horizontal translation.
   * @param dy Number that specifies the vertical translation.
   */
  translate(dx: number, dy: number): void {
    const elem = this.createElement('translate');
    elem.setAttribute('dx', String(this.format(dx)));
    elem.setAttribute('dy', String(this.format(dy)));
    this.root.appendChild(elem);
  }

  /**
   * Rotates and/or flips the output around a given center. (Note: Due to
   * limitations in VML, the rotation cannot be concatenated.)
   *
   * @param theta Number that represents the angle of the rotation (in degrees).
   * @param flipH Boolean indicating if the output should be flipped horizontally.
   * @param flipV Boolean indicating if the output should be flipped vertically.
   * @param cx Number that represents the x-coordinate of the rotation center.
   * @param cy Number that represents the y-coordinate of the rotation center.
   */
  rotate(theta: number, flipH: boolean, flipV: boolean, cx: number, cy: number): void {
    const elem = this.createElement('rotate');

    if (theta !== 0 || flipH || flipV) {
      elem.setAttribute('theta', String(this.format(theta)));
      elem.setAttribute('flipH', flipH ? '1' : '0');
      elem.setAttribute('flipV', flipV ? '1' : '0');
      elem.setAttribute('cx', String(this.format(cx)));
      elem.setAttribute('cy', String(this.format(cy)));
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current alpha.
   *
   * @param value Number that represents the new alpha. Possible values are between
   * 1 (opaque) and 0 (transparent).
   */
  setAlpha(value: number): void {
    if (this.compressed) {
      if (this.state.alpha === value) {
        return;
      }
      super.setAlpha(value);
    }

    const elem = this.createElement('alpha');
    elem.setAttribute('alpha', String(this.format(value)));
    this.root.appendChild(elem);
  }

  /**
   * Sets the current fill alpha.
   *
   * @param value Number that represents the new fill alpha. Possible values are between
   * 1 (opaque) and 0 (transparent).
   */
  setFillAlpha(value: number): void {
    if (this.compressed) {
      if (this.state.fillAlpha === value) {
        return;
      }
      super.setFillAlpha(value);
    }

    const elem = this.createElement('fillalpha');
    elem.setAttribute('alpha', String(this.format(value)));
    this.root.appendChild(elem);
  }

  /**
   * Sets the current stroke alpha.
   *
   * @param value Number that represents the new stroke alpha. Possible values are between
   * 1 (opaque) and 0 (transparent).
   */
  setStrokeAlpha(value: number): void {
    if (this.compressed) {
      if (this.state.strokeAlpha === value) {
        return;
      }
      super.setStrokeAlpha(value);
    }

    const elem = this.createElement('strokealpha');
    elem.setAttribute('alpha', String(this.format(value)));
    this.root.appendChild(elem);
  }

  /**
   * Sets the current fill color.
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setFillColor(value: string | null=null): void {
    if (value === NONE) {
      value = null;
    }

    if (this.compressed) {
      if (this.state.fillColor === value) {
        return;
      }
      super.setFillColor(value);
    }

    const elem = this.createElement('fillcolor');
    elem.setAttribute('color', value != null ? value : NONE);
    this.root.appendChild(elem);
  }

  /**
   * Sets the gradient. Note that the coordinates may be ignored by some implementations.
   *
   * @param color1 Hexadecimal representation of the start color.
   * @param color2 Hexadecimal representation of the end color.
   * @param x X-coordinate of the gradient region.
   * @param y y-coordinate of the gradient region.
   * @param w Width of the gradient region.
   * @param h Height of the gradient region.
   * @param direction One of &lt;mxConstants.DIRECTION_NORTH>, &lt;mxConstants.DIRECTION_EAST>,
   * &lt;mxConstants.DIRECTION_SOUTH> or &lt;mxConstants.DIRECTION_WEST>.
   * @param alpha1 Optional alpha of the start color. Default is 1. Possible values
   * are between 1 (opaque) and 0 (transparent).
   * @param alpha2 Optional alpha of the end color. Default is 1. Possible values
   * are between 1 (opaque) and 0 (transparent).
   */
  setGradient(
    color1: string | null, 
    color2: string | null, 
    x: number, 
    y: number, 
    w: number, 
    h: number, 
    direction: DirectionValue, 
    alpha1: number=1.0, 
    alpha2: number=1.0
  ) {
    if (color1 != null &amp;&amp; color2 != null) {
      super.setGradient(color1, color2, x, y, w, h, direction, alpha1, alpha2);

      const elem = this.createElement('gradient');
      elem.setAttribute('c1', color1);
      elem.setAttribute('c2', color2);
      elem.setAttribute('x', String(this.format(x)));
      elem.setAttribute('y', String(this.format(y)));
      elem.setAttribute('w', String(this.format(w)));
      elem.setAttribute('h', String(this.format(h)));

      // Default direction is south
      if (direction != null) {
        elem.setAttribute('direction', direction);
      }

      if (alpha1 != null) {
        elem.setAttribute('alpha1', String(alpha1));
      }

      if (alpha2 != null) {
        elem.setAttribute('alpha2', String(alpha2));
      }

      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current stroke color.
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setStrokeColor(value: string | null=null): void {
    if (value === NONE) {
      value = null;
    }

    if (this.compressed) {
      if (this.state.strokeColor === value) {
        return;
      }
      super.setStrokeColor(value);
    }

    const elem = this.createElement('strokecolor');
    elem.setAttribute('color', value != null ? value : NONE);
    this.root.appendChild(elem);
  }

  /**
   * Sets the current stroke width.
   *
   * @param value Numeric representation of the stroke width.
   */
  setStrokeWidth(value: number): void {
    if (this.compressed) {
      if (this.state.strokeWidth === value) {
        return;
      }
      super.setStrokeWidth(value);
    }

    const elem = this.createElement('strokewidth');
    elem.setAttribute('width', String(this.format(value)));
    this.root.appendChild(elem);
  }

  /**
   * Enables or disables dashed lines.
   *
   * @param value Boolean that specifies if dashed lines should be enabled.
   * @param value Boolean that specifies if the stroke width should be ignored
   * for the dash pattern.
   * @default false
   */
  setDashed(value: boolean, fixDash: boolean): void {
    if (this.compressed) {
      if (this.state.dashed === value) {
        return;
      }
      super.setDashed(value, fixDash);
    }

    const elem = this.createElement('dashed');
    elem.setAttribute('dashed', value ? '1' : '0');

    if (fixDash != null) {
      elem.setAttribute('fixDash', fixDash ? '1' : '0');
    }

    this.root.appendChild(elem);
  }

  /**
   * Sets the current dash pattern.
   * @default '3 3'
   *
   * @param value String that represents the dash pattern, which is a sequence of
   * numbers defining the length of the dashes and the length of the spaces
   * between the dashes. The lengths are relative to the line width - a length
   * of 1 is equals to the line width.
   */
  setDashPattern(value: string): void {
    if (this.compressed) {
      if (this.state.dashPattern === value) {
        return;
      }
      super.setDashPattern(value);
    }

    const elem = this.createElement('dashpattern');
    elem.setAttribute('pattern', value);
    this.root.appendChild(elem);
  }

  /**
   * Sets the line cap.
   * @default 'flat' which corresponds to 'butt' in SVG
   *
   * @param value String that represents the line cap. Possible values are flat, round
   * and square.
   */
  setLineCap(value: string): void {
    if (this.compressed) {
      if (this.state.lineCap === value) {
        return;
      }
      super.setLineCap(value);
    }

    const elem = this.createElement('linecap');
    elem.setAttribute('cap', value);
    this.root.appendChild(elem);
  }

  /**
   * Sets the line join.
   * @default 'miter'
   *
   * @param value String that represents the line join. Possible values are miter,
   * round and bevel.
   */
  setLineJoin(value: string): void {
    if (this.compressed) {
      if (this.state.lineJoin === value) {
        return;
      }
      super.setLineJoin(value);
    }

    const elem = this.createElement('linejoin');
    elem.setAttribute('join', value);
    this.root.appendChild(elem);
  }

  /**
   * Sets the miter limit.
   * @default 10
   *
   * @param value Number that represents the miter limit.
   */
  setMiterLimit(value: number): void {
    if (this.compressed) {
      if (this.state.miterLimit === value) {
        return;
      }
      super.setMiterLimit(value);
    }

    const elem = this.createElement('miterlimit');
    elem.setAttribute('limit', String(value));
    this.root.appendChild(elem);
  }

  /**
   * Sets the current font color.
   * @default '#000000'
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setFontColor(value: string | null=null): void {
    if (this.textEnabled) {
      if (value === NONE) {
        value = null;
      }

      if (this.compressed) {
        if (this.state.fontColor === value) {
          return;
        }
        super.setFontColor(value);
      }

      const elem = this.createElement('fontcolor');
      elem.setAttribute('color', value != null ? value : NONE);
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current font background color.
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setFontBackgroundColor(value: string | null=null): void {
    if (this.textEnabled) {
      if (value === NONE) {
        value = null;
      }

      if (this.compressed) {
        if (this.state.fontBackgroundColor === value) {
          return;
        }
        super.setFontBackgroundColor(value);
      }

      const elem = this.createElement('fontbackgroundcolor');
      elem.setAttribute('color', value != null ? value : NONE);
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current font border color.
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setFontBorderColor(value: string | null=null): void {
    if (this.textEnabled) {
      if (value === NONE) {
        value = null;
      }

      if (this.compressed) {
        if (this.state.fontBorderColor === value) {
          return;
        }
        super.setFontBorderColor(value);
      }

      const elem = this.createElement('fontbordercolor');
      elem.setAttribute('color', value != null ? value : NONE);
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current font size.
   * @default {@link mxConstants.DEFAULT_FONTSIZE}
   *
   * @param value Numeric representation of the font size.
   */
  setFontSize(value: number): void {
    if (this.textEnabled) {
      if (this.compressed) {
        if (this.state.fontSize === value) {
          return;
        }
        super.setFontSize(value);
      }

      const elem = this.createElement('fontsize');
      elem.setAttribute('size', String(value));
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current font family.
   * @default {@link mxConstants.DEFAULT_FONTFAMILY}
   *
   * @param value String representation of the font family. This handles the same
   * values as the CSS font-family property.
   */
  setFontFamily(value: string): void {
    if (this.textEnabled) {
      if (this.compressed) {
        if (this.state.fontFamily === value) {
          return;
        }
        super.setFontFamily(value);
      }

      const elem = this.createElement('fontfamily');
      elem.setAttribute('family', value);
      this.root.appendChild(elem);
    }
  }

  /**
   * Sets the current font style.
   *
   * @param value Numeric representation of the font family. This is the sum of the
   * font styles from {@link mxConstants}.
   */
  setFontStyle(value: number | null=0): void {
    if (this.textEnabled) {
      if (value == null) {
        value = 0;
      }

      if (this.compressed) {
        if (this.state.fontStyle === value) {
          return;
        }
        super.setFontStyle(value);
      }

      const elem = this.createElement('fontstyle');
      elem.setAttribute('style', String(value));
      this.root.appendChild(elem);
    }
  }

  /**
   * Enables or disables shadows.
   *
   * @param value Boolean that specifies if shadows should be enabled.
   */
  setShadow(value: boolean): void {
    if (this.compressed) {
      if (this.state.shadow === value) {
        return;
      }
      super.setShadow(value);
    }

    const elem = this.createElement('shadow');
    elem.setAttribute('enabled', value ? '1' : '0');
    this.root.appendChild(elem);
  }

  /**
   * Sets the current shadow color. Default {@link mxConstants.SHADOWCOLOR}
   *
   *
   * @param value Hexadecimal representation of the color or 'none'.
   */
  setShadowColor(value: string | null=null): void {
    if (this.compressed) {
      if (value === NONE) {
        value = null;
      }

      if (this.state.shadowColor === value) {
        return;
      }

      super.setShadowColor(value);
    }

    const elem = this.createElement('shadowcolor');
    elem.setAttribute('color', value != null ? value : NONE);
    this.root.appendChild(elem);
  }

  /**
   * Sets the current shadows alpha. Default is {@link mxConstants.SHADOW_OPACITY}
   *
   * @param value Number that represents the new alpha. Possible values are between 1 (opaque) and 0 (transparent).
   */
  setShadowAlpha(value: number): void {
    if (this.compressed) {
      if (this.state.shadowAlpha === value) {
        return;
      }
      super.setShadowAlpha(value);
    }

    const elem = this.createElement('shadowalpha');
    elem.setAttribute('alpha', String(value));
    this.root.appendChild(elem);
  }

  /**
   * Sets the current shadow offset.
   *
   * @param dx Number that represents the horizontal offset of the shadow.
   * @param dy Number that represents the vertical offset of the shadow.
   */
  setShadowOffset(dx: number, dy: number): void {
    if (this.compressed) {
      if (this.state.shadowDx === dx &amp;&amp; this.state.shadowDy === dy) {
        return;
      }
      super.setShadowOffset(dx, dy);
    }

    const elem = this.createElement('shadowoffset');
    elem.setAttribute('dx', String(dx));
    elem.setAttribute('dy', String(dy));
    this.root.appendChild(elem);
  }

  /**
   * Puts a rectangle into the drawing buffer.
   *
   * @param x Number that represents the x-coordinate of the rectangle.
   * @param y Number that represents the y-coordinate of the rectangle.
   * @param w Number that represents the width of the rectangle.
   * @param h Number that represents the height of the rectangle.
   */
  rect(x: number, y: number, w: number, h: number): void {
    const elem = this.createElement('rect');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    elem.setAttribute('w', String(this.format(w)));
    elem.setAttribute('h', String(this.format(h)));
    this.root.appendChild(elem);
  }

  /**
   * Puts a rounded rectangle into the drawing buffer.
   *
   * @param x Number that represents the x-coordinate of the rectangle.
   * @param y Number that represents the y-coordinate of the rectangle.
   * @param w Number that represents the width of the rectangle.
   * @param h Number that represents the height of the rectangle.
   * @param dx Number that represents the horizontal rounding.
   * @param dy Number that represents the vertical rounding.
   */
  roundrect(x: number, y: number, w: number, h: number, dx: number, dy: number): void {
    const elem = this.createElement('roundrect');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    elem.setAttribute('w', String(this.format(w)));
    elem.setAttribute('h', String(this.format(h)));
    elem.setAttribute('dx', String(this.format(dx)));
    elem.setAttribute('dy', String(this.format(dy)));
    this.root.appendChild(elem);
  }

  /**
   * Puts an ellipse into the drawing buffer.
   *
   * @param x Number that represents the x-coordinate of the ellipse.
   * @param y Number that represents the y-coordinate of the ellipse.
   * @param w Number that represents the width of the ellipse.
   * @param h Number that represents the height of the ellipse.
   */
  ellipse(x: number, y: number, w: number, h: number): void {
    const elem = this.createElement('ellipse');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    elem.setAttribute('w', String(this.format(w)));
    elem.setAttribute('h', String(this.format(h)));
    this.root.appendChild(elem);
  }

  /**
   * Paints an image.
   *
   * @param x Number that represents the x-coordinate of the image.
   * @param y Number that represents the y-coordinate of the image.
   * @param w Number that represents the width of the image.
   * @param h Number that represents the height of the image.
   * @param src String that specifies the URL of the image.
   * @param aspect Boolean indicating if the aspect of the image should be preserved.
   * @param flipH Boolean indicating if the image should be flipped horizontally.
   * @param flipV Boolean indicating if the image should be flipped vertically.
   */
  image(
    x: number, 
    y: number, 
    w: number, 
    h: number, 
    src: string, 
    aspect: boolean, 
    flipH: boolean, 
    flipV: boolean
  ) {
    src = this.converter.convert(src);

    // LATER: Add option for embedding images as base64.
    const elem = this.createElement('image');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    elem.setAttribute('w', String(this.format(w)));
    elem.setAttribute('h', String(this.format(h)));
    elem.setAttribute('src', src);
    elem.setAttribute('aspect', aspect ? '1' : '0');
    elem.setAttribute('flipH', flipH ? '1' : '0');
    elem.setAttribute('flipV', flipV ? '1' : '0');
    this.root.appendChild(elem);
  }

  /**
   * Starts a new path and puts it into the drawing buffer.
   */
  begin(): void {
    this.root.appendChild(this.createElement('begin'));
    this.lastX = 0;
    this.lastY = 0;
  }

  /**
   * Moves the current path the given point.
   *
   * @param x Number that represents the x-coordinate of the point.
   * @param y Number that represents the y-coordinate of the point.
   */
  moveTo(x: number, y: number): void {
    const elem = this.createElement('move');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    this.root.appendChild(elem);
    this.lastX = x;
    this.lastY = y;
  }

  /**
   * Draws a line to the given coordinates.
   *
   * @param x Number that represents the x-coordinate of the endpoint.
   * @param y Number that represents the y-coordinate of the endpoint.
   */
  lineTo(x: number, y: number): void {
    const elem = this.createElement('line');
    elem.setAttribute('x', String(this.format(x)));
    elem.setAttribute('y', String(this.format(y)));
    this.root.appendChild(elem);
    this.lastX = x;
    this.lastY = y;
  }

  /**
   * Adds a quadratic curve to the current path.
   *
   * @param x1 Number that represents the x-coordinate of the control point.
   * @param y1 Number that represents the y-coordinate of the control point.
   * @param x2 Number that represents the x-coordinate of the endpoint.
   * @param y2 Number that represents the y-coordinate of the endpoint.
   */
  quadTo(x1: number, y1: number, x2: number, y2: number): void {
    const elem = this.createElement('quad');
    elem.setAttribute('x1', String(this.format(x1)));
    elem.setAttribute('y1', String(this.format(y1)));
    elem.setAttribute('x2', String(this.format(x2)));
    elem.setAttribute('y2', String(this.format(y2)));
    this.root.appendChild(elem);
    this.lastX = x2;
    this.lastY = y2;
  }

  /**
   * Adds a bezier curve to the current path.
   *
   * @param x1 Number that represents the x-coordinate of the first control point.
   * @param y1 Number that represents the y-coordinate of the first control point.
   * @param x2 Number that represents the x-coordinate of the second control point.
   * @param y2 Number that represents the y-coordinate of the second control point.
   * @param x3 Number that represents the x-coordinate of the endpoint.
   * @param y3 Number that represents the y-coordinate of the endpoint.
   */
  curveTo(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number): void {
    const elem = this.createElement('curve');
    elem.setAttribute('x1', String(this.format(x1)));
    elem.setAttribute('y1', String(this.format(y1)));
    elem.setAttribute('x2', String(this.format(x2)));
    elem.setAttribute('y2', String(this.format(y2)));
    elem.setAttribute('x3', String(this.format(x3)));
    elem.setAttribute('y3', String(this.format(y3)));
    this.root.appendChild(elem);
    this.lastX = x3;
    this.lastY = y3;
  }

  /**
   * Closes the current path.
   */
  close(): void {
    this.root.appendChild(this.createElement('close'));
  }

  /**
   * Paints the given text. Possible values for format are empty string for
   * plain text and html for HTML markup. Background and border color as well
   * as clipping is not available in plain text labels for VML. HTML labels
   * are not available as part of shapes with no foreignObject support in SVG
   * (eg. IE9, IE10).
   *
   * @param x Number that represents the x-coordinate of the text.
   * @param y Number that represents the y-coordinate of the text.
   * @param w Number that represents the available width for the text or 0 for automatic width.
   * @param h Number that represents the available height for the text or 0 for automatic height.
   * @param str String that specifies the text to be painted.
   * @param align String that represents the horizontal alignment.
   * @param valign String that represents the vertical alignment.
   * @param wrap Boolean that specifies if word-wrapping is enabled. Requires w > 0.
   * @param format Empty string for plain text or 'html' for HTML markup.
   * @param overflow Specifies the overflow behaviour of the label. Requires w > 0 and/or h > 0.
   * @param clip Boolean that specifies if the label should be clipped. Requires w > 0 and/or h > 0.
   * @param rotation Number that specifies the angle of the rotation around the anchor point of the text.
   * @param dir Optional string that specifies the text direction. Possible values are rtl and ltr.
   */
  text(
    x: number, 
    y: number, 
    w: number, 
    h: number, 
    str: string | HTMLElement, 
    align: string | null=null, 
    valign: string | null=null, 
    wrap: boolean | null=null, 
    format: string | null=null, 
    overflow: string | null=null, 
    clip: boolean | null=null, 
    rotation: number | null=null, 
    dir: TextDirectionValue | null=null
  ): void {
    if (this.textEnabled &amp;&amp; str != null) {
      if (isNode(str)) {
        str = getOuterHtml(&lt;HTMLElement>str);
      }

      const elem = this.createElement('text');
      elem.setAttribute('x', String(this.format(x)));
      elem.setAttribute('y', String(this.format(y)));
      elem.setAttribute('w', String(this.format(w)));
      elem.setAttribute('h', String(this.format(h)));
      elem.setAttribute('str', &lt;string>str);

      if (align != null) {
        elem.setAttribute('align', align);
      }

      if (valign != null) {
        elem.setAttribute('valign', valign);
      }

      elem.setAttribute('wrap', wrap ? '1' : '0');

      if (format == null) {
        format = '';
      }

      elem.setAttribute('format', format);

      if (overflow != null) {
        elem.setAttribute('overflow', overflow);
      }

      if (clip != null) {
        elem.setAttribute('clip', clip ? '1' : '0');
      }

      if (rotation != null) {
        elem.setAttribute('rotation', String(rotation));
      }

      if (dir != null) {
        elem.setAttribute('dir', dir);
      }

      this.root.appendChild(elem);
    }
  }

  /**
   * Paints the outline of the current drawing buffer.
   */
  stroke(): void {
    this.root.appendChild(this.createElement('stroke'));
  }

  /**
   * Fills the current drawing buffer.
   */
  fill(): void {
    this.root.appendChild(this.createElement('fill'));
  }

  /**
   * Fills the current drawing buffer and its outline.
   */
  fillAndStroke(): void {
    this.root.appendChild(this.createElement('fillstroke'));
  }
}

export default mxXmlCanvas2D;
</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>

</body>
</html>
